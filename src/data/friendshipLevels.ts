export const levelTable = [
  0, 1250, 3750, 7250, 11750, 17750, 25250, 34250, 45250, 58250, 71399, 98983,
  115359, 133634, 154028, 176787, 202186, 230531, 262164, 297466, 336863, 380830,
  429897, 484655, 545764, 613961, 690068, 775003, 869790, 975572, 1093624, 1225370,
  1372398, 1536481, 1700564, 1883680, 2088037, 2316099, 2570616, 2854656, 3171644,
  3525402, 3920195, 4360783, 4852479, 5401211, 6013595, 6697015, 7459711, 8310879,
  9260782, 10320873, 11503934, 12824230, 14297680, 15942050, 17777166, 19825155,
  22110710, 24661389, 27507946, 30684703, 34229963, 38186473, 42601938, 47529596,
  53666776, 60515868, 68159454, 76689695, 86209443, 96833481, 108689907, 121921678,
  136688334, 153167922, 171559142, 192083743, 214989197, 240551683, 269079417,
  300916368, 336446405, 376097926, 420349023, 469733247, 524846040, 586351916,
  654992473, 731595334, 817084126, 914489617, 1018962144, 1137785484, 1270392331,
  1418381572, 1583537564, 1767851651, 2000000000,
];

export function getXPFromLevel(level: number): number {
  if (level <= 1) return 0;
  if (level >= 99) return 2000000000;
  const low = Math.floor(level) - 1;
  const high = Math.ceil(level) - 1;
  const lowXP = levelTable[low]!;
  const highXP = levelTable[high]!;
  return lowXP + (highXP - lowXP) * (level - Math.floor(level));
}

export function getLevelFromXP(xp: number): number {
  if (xp >= 2000000000) return 99;
  for (let lvl = 0; lvl < levelTable.length - 1; lvl++) {
    if (xp < levelTable[lvl + 1]!) {
      const prevXP = levelTable[lvl]!;
      const nextXP = levelTable[lvl + 1]!;
      const frac = (xp - prevXP) / (nextXP - prevXP);
      return (lvl + 1) + frac;
    }
  }
  return 99;
}
